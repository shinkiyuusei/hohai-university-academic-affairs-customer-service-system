import{_ as T}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                  *//* empty css                   *//* empty css                  */import{p as Q,d as V,r as h,q as x,s as W,l as C,o as u,g as t,t as X,w as e,k as Y,v as w,f as _,c as i,x as Z,y as j,m as o,z as E,A as q,B as l,C as ee,D as te,F as I,G as ae,u as le,a as oe,H as se,I as ne,J as ue,K as re,L as de,M as z,N as H,O as N,P as ie,Q as S,R as _e,S as ce,U as me,V as fe,W as pe,X as ve,Y as ke,Z as ge,_ as xe,$ as we,a0 as ye,a1 as be,a2 as he,e as Ce,T as Ee,a3 as Ie,b as Ae}from"./index-CRHGP1uJ.js";import{l as Be}from"./logo-COisWnUJ.js";/* empty css               */const De=()=>Q.get("/health/health_check"),Me={class:"algo-health-check"},ze=V({__name:"AlgoHealthCheck",setup($){const s=h({status:"",service:"",version:""}),m=h(!1),f=x(()=>s.value.status?s.value.status==="ok"?`服务正常运行中 (${s.value.version})`:"服务异常，点击重试":"正在检查服务状态..."),p=async()=>{m.value=!0;try{const c=await De();s.value=c}catch(c){console.error("检查算法服务状态失败:",c),s.value.status="error"}finally{m.value=!1}};return W(()=>{p()}),(c,v)=>{const d=q,y=j,b=Y,k=X;return u(),C("div",Me,[t(k,{effect:"dark",content:f.value,placement:"bottom"},{default:e(()=>[t(b,{class:w(["status-button",s.value.status==="ok"?"status-normal":"status-error"]),size:"small",plain:"",onClick:p},{icon:e(()=>[t(d,{class:w(["status-icon",{"is-spinning":m.value}])},{default:e(()=>[s.value.status==="ok"?(u(),i(l(I),{key:0})):(u(),i(l(ae),{key:1}))]),_:1},8,["class"])]),default:e(()=>[v[0]||(v[0]=_("span",{class:"service-name"},"算法服务",-1)),s.value.status?(u(),i(y,{key:0,size:"small",class:w([s.value.status==="ok"?"tag-normal":"tag-error","status-tag"]),effect:"plain"},{icon:e(()=>[t(d,null,{default:e(()=>[s.value.status==="ok"?(u(),i(l(ee),{key:0})):(u(),i(l(te),{key:1}))]),_:1})]),default:e(()=>[o(" "+E(s.value.status==="ok"?"正常":"异常"),1)]),_:1},8,["class"])):Z("",!0)]),_:1},8,["class"])]),_:1},8,["content"])])}}}),He=T(ze,[["__scopeId","data-v-69f63189"]]),Ne={class:"header-left"},Se={class:"header-right"},Te={class:"user-info"},Ve=V({__name:"Layout",setup($){const s=oe(),m=Ae(),f=le(),p=x(()=>s.path),c=x(()=>f.userInfo),v=x(()=>f.isAdmin()),d=h(!1),y=()=>{d.value=!d.value},b=k=>{switch(k){case"profile":m.push("/profile");break;case"logout":f.logout();break}};return(k,a)=>{const n=q,r=de,L=re,R=me,A=ge,U=ke,F=we,B=be,G=ye,J=xe,K=fe,O=Ce("router-view"),P=he,D=se;return u(),i(D,{class:"layout-container"},{default:e(()=>[t(R,{width:d.value?"64px":"200px",class:"aside"},{default:e(()=>[_("div",{class:w(["logo",{"logo-collapse":d.value}])},[a[0]||(a[0]=_("img",{src:Be,alt:"logo"},null,-1)),ne(_("span",null,"河海大学校务知识系统",512),[[ue,!d.value]])],2),t(L,{"default-active":p.value,class:"menu",router:!0,collapse:d.value,"background-color":"transparent","text-color":"#64748b","active-text-color":"#52c41a"},{default:e(()=>[v.value?(u(),C(N,{key:1},[t(r,{index:"/admin"},{title:e(()=>[...a[4]||(a[4]=[o("控制台",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(I))]),_:1})]),_:1}),t(r,{index:"/qa"},{title:e(()=>[...a[5]||(a[5]=[o("智能问答",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(z))]),_:1})]),_:1}),t(r,{index:"/admin/users"},{title:e(()=>[...a[6]||(a[6]=[o("用户管理",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(H))]),_:1})]),_:1}),t(r,{index:"/admin/documents"},{title:e(()=>[...a[7]||(a[7]=[o("文档管理",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(ie))]),_:1})]),_:1}),t(r,{index:"/admin/knowledge-graph"},{title:e(()=>[...a[8]||(a[8]=[o("图谱管理",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(S))]),_:1})]),_:1}),t(r,{index:"/admin/graph-visualization"},{title:e(()=>[...a[9]||(a[9]=[o("图谱可视化",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(S))]),_:1})]),_:1}),t(r,{index:"/admin/plant-disease"},{title:e(()=>[...a[10]||(a[10]=[o("植物病害",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(_e))]),_:1})]),_:1}),t(r,{index:"/admin/disease-case"},{title:e(()=>[...a[11]||(a[11]=[o("病害案例",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(ce))]),_:1})]),_:1})],64)):(u(),C(N,{key:0},[t(r,{index:"/dashboard"},{title:e(()=>[...a[1]||(a[1]=[o("首页",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(I))]),_:1})]),_:1}),t(r,{index:"/qa"},{title:e(()=>[...a[2]||(a[2]=[o("智能问答",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(z))]),_:1})]),_:1}),t(r,{index:"/profile"},{title:e(()=>[...a[3]||(a[3]=[o("个人中心",-1)])]),default:e(()=>[t(n,null,{default:e(()=>[t(l(H))]),_:1})]),_:1})],64))]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),t(D,null,{default:e(()=>[t(K,{class:"header"},{default:e(()=>[_("div",Ne,[t(n,{class:"collapse-btn",onClick:y},{default:e(()=>[d.value?(u(),i(l(ve),{key:1})):(u(),i(l(pe),{key:0}))]),_:1}),t(U,{separator:"/"},{default:e(()=>[t(A,{to:{path:"/"}},{default:e(()=>[...a[12]||(a[12]=[o("首页",-1)])]),_:1}),t(A,null,{default:e(()=>[o(E(l(s).meta.title),1)]),_:1})]),_:1})]),_("div",Se,[t(He,{class:"health-check"}),t(J,{onCommand:b},{dropdown:e(()=>[t(G,null,{default:e(()=>[t(B,{command:"profile"},{default:e(()=>[...a[13]||(a[13]=[o("个人中心",-1)])]),_:1}),t(B,{command:"logout"},{default:e(()=>[...a[14]||(a[14]=[o("退出登录",-1)])]),_:1})]),_:1})]),default:e(()=>{var g,M;return[_("span",Te,[t(F,{size:32,src:(g=c.value)==null?void 0:g.avatarUrl},null,8,["src"]),_("span",null,E((M=c.value)==null?void 0:M.username),1)])]}),_:1})])]),_:1}),t(P,{class:"main"},{default:e(()=>[t(O,null,{default:e(({Component:g})=>[t(Ee,{name:"fade",mode:"out-in"},{default:e(()=>[(u(),i(Ie(g)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Je=T(Ve,[["__scopeId","data-v-507b064c"]]);export{Je as default};
