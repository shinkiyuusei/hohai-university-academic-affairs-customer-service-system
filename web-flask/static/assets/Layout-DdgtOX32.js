import{_ as T}from"./_plugin-vue_export-helper-DRcqrMy4.js";/* empty css                  *//* empty css                   *//* empty css                  */import{p as Q,d as V,r as C,q as h,s as W,l as E,o as n,g as t,t as X,w as e,k as Y,v as x,f as c,c as i,x as Z,y as j,m as s,z as b,A as q,B as l,C as ee,D as te,F as I,G as ae,u as le,a as oe,H as se,I as ne,J as ue,K as re,L as de,M as z,N as H,O as N,P as ie,Q as S,R as ce,S as _e,U as me,V as fe,W as pe,X as ve,Y as ke,Z as ge,_ as he,$ as xe,a0 as we,e as ye,T as Ce,a1 as Ee,b as be}from"./index-CK_LbvG7.js";import{l as Ie}from"./logo-COisWnUJ.js";/* empty css               */const Ae=()=>Q.get("/api/health/health_check"),Be={class:"algo-health-check"},De=V({__name:"AlgoHealthCheck",setup($){const o=C({status:"",service:"",version:""}),m=C(!1),f=h(()=>o.value.status?o.value.status==="ok"?`服务正常运行中 (${o.value.version})`:"服务异常，点击重试":"正在检查服务状态..."),p=async()=>{m.value=!0;try{const _=await Ae();o.value=_}catch(_){console.error("检查算法服务状态失败:",_),o.value.status="error"}finally{m.value=!1}};return W(()=>{p()}),(_,v)=>{const u=q,w=j,y=Y,k=X;return n(),E("div",Be,[t(k,{effect:"dark",content:f.value,placement:"bottom"},{default:e(()=>[t(y,{class:x(["status-button",o.value.status==="ok"?"status-normal":"status-error"]),size:"small",plain:"",onClick:p},{icon:e(()=>[t(u,{class:x(["status-icon",{"is-spinning":m.value}])},{default:e(()=>[o.value.status==="ok"?(n(),i(l(I),{key:0})):(n(),i(l(ae),{key:1}))]),_:1},8,["class"])]),default:e(()=>[v[0]||(v[0]=c("span",{class:"service-name"},"算法服务",-1)),o.value.status?(n(),i(w,{key:0,size:"small",class:x([o.value.status==="ok"?"tag-normal":"tag-error","status-tag"]),effect:"plain"},{icon:e(()=>[t(u,null,{default:e(()=>[o.value.status==="ok"?(n(),i(l(ee),{key:0})):(n(),i(l(te),{key:1}))]),_:1})]),default:e(()=>[s(" "+b(o.value.status==="ok"?"正常":"异常"),1)]),_:1},8,["class"])):Z("",!0)]),_:1},8,["class"])]),_:1},8,["content"])])}}}),Me=T(De,[["__scopeId","data-v-69f63189"]]),ze={class:"header-left"},He={class:"header-right"},Ne={class:"user-info"},Se=V({__name:"Layout",setup($){const o=oe(),m=be(),f=le(),p=h(()=>o.path),_=h(()=>f.userInfo),v=h(()=>f.isAdmin()),u=C(!1),w=()=>{u.value=!u.value},y=k=>{switch(k){case"profile":m.push("/profile");break;case"logout":f.logout();break}};return(k,a)=>{const r=q,d=de,L=re,R=ce,A=ve,U=pe,F=ge,B=xe,G=he,J=ke,K=_e,O=ye("router-view"),P=we,D=se;return n(),i(D,{class:"layout-container"},{default:e(()=>[t(R,{width:u.value?"64px":"200px",class:"aside"},{default:e(()=>[c("div",{class:x(["logo",{"logo-collapse":u.value}])},[a[0]||(a[0]=c("img",{src:Ie,alt:"logo"},null,-1)),ne(c("span",null,"河海大学校务知识系统",512),[[ue,!u.value]])],2),t(L,{"default-active":p.value,class:"menu",router:!0,collapse:u.value,"background-color":"transparent","text-color":"#64748b","active-text-color":"#52c41a"},{default:e(()=>[v.value?(n(),E(N,{key:1},[t(d,{index:"/admin"},{title:e(()=>[...a[4]||(a[4]=[s("控制台",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(I))]),_:1})]),_:1}),t(d,{index:"/qa"},{title:e(()=>[...a[5]||(a[5]=[s("智能问答",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(z))]),_:1})]),_:1}),t(d,{index:"/admin/users"},{title:e(()=>[...a[6]||(a[6]=[s("用户管理",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(H))]),_:1})]),_:1}),t(d,{index:"/admin/documents"},{title:e(()=>[...a[7]||(a[7]=[s("文档管理",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(ie))]),_:1})]),_:1}),t(d,{index:"/admin/knowledge-graph"},{title:e(()=>[...a[8]||(a[8]=[s("图谱管理",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(S))]),_:1})]),_:1}),t(d,{index:"/admin/graph-visualization"},{title:e(()=>[...a[9]||(a[9]=[s("图谱可视化",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(S))]),_:1})]),_:1})],64)):(n(),E(N,{key:0},[t(d,{index:"/dashboard"},{title:e(()=>[...a[1]||(a[1]=[s("首页",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(I))]),_:1})]),_:1}),t(d,{index:"/qa"},{title:e(()=>[...a[2]||(a[2]=[s("智能问答",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(z))]),_:1})]),_:1}),t(d,{index:"/profile"},{title:e(()=>[...a[3]||(a[3]=[s("个人中心",-1)])]),default:e(()=>[t(r,null,{default:e(()=>[t(l(H))]),_:1})]),_:1})],64))]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),t(D,null,{default:e(()=>[t(K,{class:"header"},{default:e(()=>[c("div",ze,[t(r,{class:"collapse-btn",onClick:w},{default:e(()=>[u.value?(n(),i(l(fe),{key:1})):(n(),i(l(me),{key:0}))]),_:1}),t(U,{separator:"/"},{default:e(()=>[t(A,{to:{path:"/"}},{default:e(()=>[...a[10]||(a[10]=[s("首页",-1)])]),_:1}),t(A,null,{default:e(()=>[s(b(l(o).meta.title),1)]),_:1})]),_:1})]),c("div",He,[t(Me,{class:"health-check"}),t(J,{onCommand:y},{dropdown:e(()=>[t(G,null,{default:e(()=>[t(B,{command:"profile"},{default:e(()=>[...a[11]||(a[11]=[s("个人中心",-1)])]),_:1}),t(B,{command:"logout"},{default:e(()=>[...a[12]||(a[12]=[s("退出登录",-1)])]),_:1})]),_:1})]),default:e(()=>{var g,M;return[c("span",Ne,[t(F,{size:32,src:(g=_.value)==null?void 0:g.avatarUrl},null,8,["src"]),c("span",null,b((M=_.value)==null?void 0:M.username),1)])]}),_:1})])]),_:1}),t(P,{class:"main"},{default:e(()=>[t(O,null,{default:e(({Component:g})=>[t(Ce,{name:"fade",mode:"out-in"},{default:e(()=>[(n(),i(Ee(g)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Fe=T(Se,[["__scopeId","data-v-2960c31a"]]);export{Fe as default};
